<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" 
        crossorigin="anonymous">
    
    <link rel="stylesheet" href="./css/select.css">
</head>
<body>
<!-- Bootstrap -->
<script 
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" 
    crossorigin="anonymous"></script>

    
<div class="box-style">
    <form class="container my-5 form-group">
        <p>상품선택</p>
        <select class="form-select mt-2">
            <option>모자</option>
            <option>셔츠</option>
            <option>바지</option>
        </select>
        
        <select class="form-select mt-2 hide">
            <option>95</option>
            <option>100</option>
            <option>105</option>
        </select>
    </form>
</div>



<script>
    // input이벤트와 change이벤트
    document.getElementsByClassName('form-select')[0].addEventListener('input', function(e){
        if(e.currentTarget.value == '모자') {
            document.getElementsByClassName('form-select')[1].classList.replace('show', 'hide');
        } else if(e.currentTarget.value == '셔츠') {
            document.getElementsByClassName('form-select')[1].classList.replace('hide', 'show');
        } else if(e.currentTarget.value == '바지') {
            document.getElementsByClassName('form-select')[1].classList.replace('hide', 'show');

            // 자바스크립트로 html 생성법
            // const size = '<option>28</option> <option>30</option>'

            // insertAdjacentHTML 태그추가
            // document.getElementsByClassName('form-select')[1].insertAdjacentHTML('beforeend', size);

            // innerHTML 있던 태그를 싹다 갈아치움
            // document.getElementsByClassName('form-select')[1].innertHTML = size;


            // var size = `<option>28</option>
            //     <option>30</option>`; // 띄어쓰기를 적용하고 싶을때에는 ''가 아닌 ``로 써야함

            // document.getElementsByClassName('form-select')[1].innerHTML = size;



            
            // 배운 지식으로 일단 안의 내용 다 지워줌
            document.getElementsByClassName('form-select')[1].innerHTML = '';




            // 이제 자바스크립트로 태그 생성법은 배웠고
            // 만약 수정해야하는 바지 사이즈가 자주 바뀐다면
            // 어떻게 자동으로 바뀌게끔 확장성 있게 코드를 짤까??
            // for문을 돌리면서 DB에 있는 바지사이즈의 데이터개수를 가져오면 될듯
            // 근데 for문 대신 array에 붙일 수 있는 forEach 반복문이 있음
            
            // forEach()반복문 
            // 파라미터가 최대 2개  =  첫번째는 변수 i, 두번째는 0부터시작해서 1씩 증가하는 정수 
            // array.forEach(element => {
            // });

            let pantsSize = [28, 30, 32, 34]; // DB에서 가져온 바지사이즈라고 가정
            pantsSize.forEach(function(size){
                document.getElementsByClassName('form-select')[1].insertAdjacentHTML('beforeend', '<option>' + size + '</option>');
            });
        }
    })
</script>


<script>
// 그렇다면 object 반복문은??
// forin 반복문
// for(var key in obj) {
// }

let obj = {name: 'Lee', age: 20};

for(var key in obj) {
    console.log(obj[key]);
}
</script>

</body>
</html>